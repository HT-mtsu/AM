<!DOCTYPE html>
<html>
<head>
<title>Ising Model</title>
</head>
<body>
<canvas id="canvas" width="500" height="500"></canvas>
<input type="range" min="0" max="1" value="0.5" id="temperature">
<script>
var ctx = document.getElementById("canvas").getContext("2d");

// Create a function to draw the simulation
function draw() {
  // Clear the canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw the lattice
  for (var i = 0; i < canvas.width; i++) {
    for (var j = 0; j < canvas.height; j++) {
      var x = i * 2;
      var y = j * 2;

      // Draw a black square if the spin is up, and a white square if the spin is down
      if (lattice[i][j] == 1) {
        ctx.fillStyle = "black";
      } else {
        ctx.fillStyle = "white";
      }

      ctx.fillRect(x, y, 2, 2);
    }
  }

  // Update the simulation
  requestAnimationFrame(draw);
}

// Initialize the simulation
var lattice = [];
for (var i = 0; i < canvas.width; i++) {
  var row = [];
  for (var j = 0; j < canvas.height; j++) {
    row.push(Math.round(Math.random()));
  }
  lattice.push(row);
}

// Update the simulation based on the temperature
function update() {
  for (var i = 0; i < canvas.width; i++) {
    for (var j = 0; j < canvas.height; j++) {
      var spin = lattice[i][j];
      var neighbors = 0;
      for (var k = -1; k <= 1; k++) {
        for (var l = -1; l <= 1; l++) {
          if (k !== 0 || l !== 0) {
            var neighbor = lattice[i + k][j + l];
            if (neighbor == spin) {
              neighbors++;
            }
          }
        }
      }
      if (neighbors < 2 || neighbors > 4) {
        lattice[i][j] = 1 - spin;
      }
    }
  }
}

// Start the simulation
draw();

// Update the simulation when the temperature changes
document.getElementById("temperature").addEventListener("input", update);
</script>
</body>
</html>

